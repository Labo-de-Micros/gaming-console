//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
//							Headers								//
//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////

#include "./Drivers/LED_matrix/LED_matrix.h"
#include "./Drivers/GAMES/games.h"
#include "./Drivers/Encoder/encoder.h"

//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
//		CONSTANT AND MACRO DEFINITIONS USING #DEFINE 		 	//
//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////

#define BUFFER_SIZE			10
#define MAGN_ADRESS_SLAVE	0x1D
#define TEST_ADDRESS_W		0x26
#define TEST_ADDRESS_R		0x26

//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
//			ENUMERATIONS AND STRUCTURES AND TYPEDEFS	  		//
//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
//						STATIC VARIABLES						//
//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
//FUNCTION PROTOTYPES FOR PRIVATE FUNCTIONS W FILE LEVEL SCOPE//
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
//					FUNCTION DEFINITIONS						//
//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////

void App_Init (void){
	led_m_init();
    encoder_init();
    games_init();
	return;
}

void App_Run(void){

	while(true)
	{
       enc_events_t temp = encoder_get_event();
		switch(temp){
		case ENC_SINGLE_PRESS:
			games_state_machine(ACTION_PRESS);
			break;
		case ENC_DOUBLE_PRESS:
			games_state_machine(ACTION_DOUBLE_PRESS);
			break;
		case ENC_LONG_PRESS:
			games_state_machine(ACTION_LONG_PRESS);
			break;
		case ENC_CLOCKWISE_TURN:
			games_state_machine(ACTION_CW);
			break;
		case ENC_COUNTER_CLOCKWISE_TURN:
			games_state_machine(ACTION_CCW);
			break;
		case ENC_NO_EV:
			break;
		default:
			break;
		} 


    }
	return;
}

//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////
//					LOCAL FUNCTION DEFINITIONS					//
//////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////


